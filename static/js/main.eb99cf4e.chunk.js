(this["webpackJsonpreact-moviedb-app"]=this["webpackJsonpreact-moviedb-app"]||[]).push([[0],{106:function(e,t,a){e.exports=a(173)},111:function(e,t,a){},112:function(e,t,a){},170:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(2),o=a.n(r),l=(a(111),a(22)),i=a(34),m=a(11),u=a(174),s=a(176),d="https://api.themoviedb.org/3/",g="4c5d5fee72d4ec001f35ad4bc6443640",v=a(175);a(112);var f=function(e){var t=e.key,a=e.image,n=e.movieId,r=e.movieName;return c.a.createElement(v.a,{key:t,lg:6,md:8,xs:24},c.a.createElement("div",null,c.a.createElement("a",{href:"/movie/".concat(n)},c.a.createElement("img",{alt:r,src:a}))))},E=u.a.Title;var h=function(){var e=Object(n.useRef)(null),t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],o=a[1],l=Object(n.useState)(null),u=Object(m.a)(l,2),v=u[0],h=u[1],p=Object(n.useState)(!0),b=Object(m.a)(p,2),w=b[0],j=b[1],O=Object(n.useState)(0),y=Object(m.a)(O,2),k=y[0],S=y[1];Object(n.useEffect)((function(){var e="".concat(d,"movie/popular?api_key=").concat(g,"&language=en-US&page=1");_(e)}),[]),Object(n.useEffect)((function(){window.addEventListener("scroll",x)}),[]);var _=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){o([].concat(Object(i.a)(r),Object(i.a)(e.results))),h(v||e.results[0]),S(e.page)}),j(!1)).catch((function(e){return console.error("Error:",e)}))},x=function(){var t="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,a=document.body,n=document.documentElement,c=Math.max(a.scrollHeight,a.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);t+window.pageYOffset>=c-1&&e.current.click()};return c.a.createElement("div",{style:{width:"100%",margin:"0"}},c.a.createElement("div",{style:{width:"85%",margin:"1rem auto"}},c.a.createElement(E,{level:2}," Popular movies "),c.a.createElement("hr",null),c.a.createElement(s.a,{gutter:[16,16]},r&&r.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:t},c.a.createElement(f,{image:e.poster_path?"".concat("http://image.tmdb.org/t/p/").concat("w500").concat(e.poster_path):null,movieId:e.id,movieName:e.original_title}))}))),w&&c.a.createElement("div",null,"Loading..."),c.a.createElement("br",null),c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},c.a.createElement("button",{ref:e,className:"loadMore",onClick:function(){var e;j(!0),e="".concat(d,"movie/popular?api_key=").concat(g,"&language=en-US&page=").concat(k+1),_(e)}},"Load More"))))};a(170);var p=function(){return c.a.createElement("nav",{className:"menu",style:{position:"fixed",zIndex:1,width:"100%"}},c.a.createElement("div",{className:"menu__logo"},c.a.createElement("a",{href:"/"},"MovieDB")))},b=u.a.Title;var w=function(e){return c.a.createElement("div",{style:{background:"linear-gradient(to bottom, rgba(0,0,0,0)\n            39%,rgba(0,0,0,0)\n            41%,rgba(0,0,0,0.65)\n            100%),\n            url('".concat(e.image,"'), #1c1c1c"),height:"500px",backgroundSize:"100%, cover",backgroundPosition:"center, center",width:"100%",position:"relative"}},c.a.createElement("div",null,c.a.createElement("div",{style:{position:"absolute",maxWidth:"500px",bottom:"2rem",marginLeft:"2rem"}},c.a.createElement(b,{style:{color:"white"},level:2}," ",e.title," "),c.a.createElement("p",{style:{color:"white",fontSize:"1rem"}},e.text," "))))},j=a(177);var O=function(e){var t=e.movie;return c.a.createElement(j.a,{title:"Movie Info",level:4,bordered:!0},c.a.createElement(j.a.Item,{label:"Title"},t.original_title),c.a.createElement(j.a.Item,{label:"Original Release"},t.release_date),c.a.createElement(j.a.Item,{label:"Running Time"},t.runtime," min."),c.a.createElement(j.a.Item,{label:"User Score"},t.vote_average,"/10"),c.a.createElement(j.a.Item,{label:"Popularity"},t.popularity),c.a.createElement(j.a.Item,{label:"Status"},t.status))},y=u.a.Title;var k=function(e){var t=e.match.params.movieId,a=Object(n.useState)([]),r=Object(m.a)(a,2),o=r[0],l=r[1],u=Object(n.useState)(!0),v=Object(m.a)(u,2),E=v[0],h=v[1],p=Object(n.useRef)(null),b=Object(n.useState)([]),j=Object(m.a)(b,2),k=j[0],S=j[1],_=Object(n.useState)(null),x=Object(m.a)(_,2),H=x[0],I=x[1],M=Object(n.useState)(!0),L=Object(m.a)(M,2),N=L[0],T=L[1],U=Object(n.useState)(0),C=Object(m.a)(U,2),R=C[0],z=C[1];Object(n.useEffect)((function(){var e="".concat(d,"movie/").concat(t,"?api_key=").concat(g,"&language=en-US");W(e)}),[]),Object(n.useEffect)((function(){var e="".concat(d,"movie/").concat(t,"/similar?api_key=").concat(g,"&language=en-US&page=1");B(e)}),[]),Object(n.useEffect)((function(){window.addEventListener("scroll",P)}),[]);var B=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){S([].concat(Object(i.a)(k),Object(i.a)(e.results))),I(H||e.results[0]),z(e.page)}),T(!1)).catch((function(e){return console.error("Error:",e)}))},P=function(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,t=document.body,a=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight);e+window.pageYOffset>=n-1&&p.current.click()},W=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){l(e),h(!1)})).catch((function(e){return console.error("Error:",e)}))};return c.a.createElement("div",null,E?c.a.createElement("div",null,"loading..."):c.a.createElement(w,{image:"".concat("http://image.tmdb.org/t/p/").concat("w1280").concat(o.backdrop_path),title:o.original_title,text:o.overview}),c.a.createElement("div",{style:{width:"85%",margin:"1rem auto"}},E?c.a.createElement("div",null,"loading..."):c.a.createElement(O,{movie:o})),c.a.createElement("br",null),c.a.createElement("div",{style:{width:"100%",margin:"0"}},c.a.createElement("div",{style:{width:"85%",margin:"1rem auto"}},c.a.createElement(y,{level:2}," Similar Movies "),c.a.createElement("hr",null),c.a.createElement(s.a,{gutter:[16,16]},k&&k.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:t},c.a.createElement(f,{image:e.poster_path?"".concat("http://image.tmdb.org/t/p/").concat("w500").concat(e.poster_path):null,movieId:e.id,movieName:e.original_title}))}))),N&&c.a.createElement("div",null,"Loading..."),c.a.createElement("br",null),c.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},c.a.createElement("button",{ref:p,className:"loadMore",onClick:function(){var e;T(!0),e="".concat(d,"movie/").concat(t,"/similar?api_key=").concat(g,"&language=en-US&page=").concat(R+1),B(e)}},"Load More")))))};var S=function(){return c.a.createElement(n.Suspense,{fallback:c.a.createElement("div",null,"Loading...")},c.a.createElement(p,null),c.a.createElement("div",{style:{paddingTop:"69px",minHeight:"calc(100vh - 80px)"}},c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:h}),c.a.createElement(l.a,{exact:!0,path:"/movie/:movieId",component:k}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=a(72);o.a.render(c.a.createElement(_.a,null,c.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[106,1,2]]]);
//# sourceMappingURL=main.eb99cf4e.chunk.js.map